# LCD_ESP32S3 Library

Библиотека для работы с RGB/LCD/VGA панелями на **ESP32-S3** с использованием драйвера `esp_lcd_rgb_panel`.  
Поддерживает буферизацию в **PSRAM**, двойные буферы и масштабирование.

## Структура
- `LCD_esp32s3.cpp/.h` — низкоуровневый драйвер панели.
- `LCD_GFX.h/.cpp` — примитивные графические операции (заливка, пиксели, линии, прямоугольники).
- `LCD_Math.h` — вспомогательные математические функции (будущие расширения).

## Возможности
- Поддержка **8-бит и 16-бит режимов** (RGB332 и RGB565).
- Работа с **PSRAM** для хранения буферов.
- **Двойная буферизация** для плавного вывода без артефактов.
- Коллбэки (`on_vsync`, `on_bounce_empty`, …) для управления процессом вывода.
- Масштабирование (scale 0/1/2).
- Установка **viewport** (области отрисовки).
- Простые графические операции: очистка, заливка прямоугольников и др.

## Установка
1. Скопируйте папку библиотеки в `Arduino/libraries/LCD_ESP32S3/`
2. В `platformio.ini` можно подключить напрямую через `lib_deps`:
   ```ini
   lib_deps =
       LCD_ESP32S3
   ```

## Пример использования
```cpp
#include <Arduino.h>
#include "LCD_esp32s3.h"
#include "LCD_GFX.h"

// Определение VGA режима (пример 640x480@60Hz)
int MODE_640x480[] = {
    25000000, 640, 480, 16, 16,   // pclk, w, h, colBit, bpp
    48, 16, 96,                   // hsync back, front, pulse
    33, 10, 2,                    // vsync back, front, pulse
    0,                            // scale
    640                           // bounce buffer size
};

LCD_esp32s3 lcd;
LCD_GFX gfx(lcd);

void setup() {
    if (!lcd.init(MODE_640x480, true, true)) {
        Serial.println("LCD init failed!");
        while (1);
    }
    gfx.cls(0x0000);   // очистка (черный фон)
    gfx.fillRect(100, 100, 200, 200, 0xF800); // красный квадрат
    lcd.swap();        // переключение буфера
}

void loop() {
}
```

## TODO
- Реализация примитивов (`putPixel`, `hLine`, `vLine`, `rect`, `circle`).
- Поддержка спрайтов и изображений.
- Подключение к LVGL.
- Расширение `LCD_Math` (геометрия, RNG и др).

        MODE512x384x8//+++
        MODE640x350x8//+--
        MODE640x400x8//+++
        MODE640x480x8//+++
        MODE720x400x8//+++
        MODE768x576x8//+++
        MODE800x600x8//+++
        MODE1024x768x8//-++   

        MODE512x384x16//+++
        MODE640x350x16//+--
        MODE640x400x16//+++
        MODE640x480x16//+++
        MODE720x400x16//+++
        MODE768x576x16//-++
        MODE800x600x16//---
        MODE1024x768x16//--- 
---

## Лицензия
MIT
